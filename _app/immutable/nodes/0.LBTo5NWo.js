var Fe=t=>{throw TypeError(t)};var Pe=(t,e,r)=>e.has(t)||Fe("Cannot "+r);var s=(t,e,r)=>(Pe(t,e,"read from private field"),r?r.call(t):e.get(t)),l=(t,e,r)=>e.has(t)?Fe("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),p=(t,e,r,n)=>(Pe(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),w=(t,e,r)=>(Pe(t,e,"access private method"),r);import{c as $e,s as gt,g as Se,a as y,u as $,f as W}from"../chunks/DUwy4pNv.js";import"../chunks/DywqBNo3.js";import{P as se,o as Ee,q as Ce,J as pt,aQ as wt,s as De,w as vt,B as bt,x as yt,z as _t,v as le,p as j,M as P,n as Ue,a as R,u as S,e as kt,h as St,an as ie,g as h,a6 as T,ad as Me,T as xe,aR as je,O as L,am as Re,a3 as Mt,c as K,N as Xe,r as J,aS as xt}from"../chunks/BZ5df_zS.js";import{h as Ge}from"../chunks/CkGTUoNe.js";import{s as et,f as Le,B as Tt,e as Pt}from"../chunks/B_vgmdnV.js";import{i as tt}from"../chunks/0n-_fFfX.js";import{s as rt,r as nt,i as Oe,p as v,a as Et,c as Ke}from"../chunks/BRRm81vI.js";import{c as Te,u as Ct}from"../chunks/BD5BRr0o.js";import{I as ot}from"../chunks/DJPdZTvJ.js";import{s as At,g as It}from"../chunks/BGe-Hpht.js";function zt(t,e,r=!1,n=!1,a=!1){var i=t,o="";se(()=>{var c=pt;if(o===(o=e()??"")){Ee&&Ce();return}if(c.nodes_start!==null&&(wt(c.nodes_start,c.nodes_end),c.nodes_start=c.nodes_end=null),o!==""){if(Ee){De.data;for(var u=Ce(),d=u;u!==null&&(u.nodeType!==8||u.data!=="");)d=u,u=vt(u);if(u===null)throw bt(),yt;$e(De,d),i=_t(u);return}var f=o+"";r?f=`<svg>${f}</svg>`:n&&(f=`<math>${f}</math>`);var g=gt(f);if((r||n)&&(g=le(g)),$e(le(g),g.lastChild),r||n)for(;le(g);)i.before(le(g));else i.before(g)}})}function Bt(t,e,r,n,a){var c;Ee&&Ce();var i=(c=e.$$slots)==null?void 0:c[r],o=!1;i===!0&&(i=e.children,o=!0),i===void 0||i(t,o?()=>n:n)}const Nt=!0,Dr=Object.freeze(Object.defineProperty({__proto__:null,prerender:Nt},Symbol.toStringTag,{value:"Module"}));function Wt(t,e){j(e,!0);let r=nt(e,["$$slots","$$events","$$legacy"]);const n=[["circle",{cx:"12",cy:"12",r:"4"}],["path",{d:"M12 2v2"}],["path",{d:"M12 20v2"}],["path",{d:"m4.93 4.93 1.41 1.41"}],["path",{d:"m17.66 17.66 1.41 1.41"}],["path",{d:"M2 12h2"}],["path",{d:"M20 12h2"}],["path",{d:"m6.34 17.66-1.41 1.41"}],["path",{d:"m19.07 4.93-1.41 1.41"}]];ot(t,rt({name:"sun"},()=>r,{get iconNode(){return n},children:(a,i)=>{var o=Se(),c=P(o);et(c,()=>e.children??Ue),y(a,o)},$$slots:{default:!0}})),R()}function jt(t,e){j(e,!0);let r=nt(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"}]];ot(t,rt({name:"moon"},()=>r,{get iconNode(){return n},children:(a,i)=>{var o=Se(),c=P(o);et(c,()=>e.children??Ue),y(a,o)},$$slots:{default:!0}})),R()}const st=typeof window<"u"?window:void 0;function Rt(t){let e=t.activeElement;for(;e!=null&&e.shadowRoot;){const r=e.shadowRoot.activeElement;if(r===e)break;e=r}return e}var Q,Y;class Lt{constructor(e,r){l(this,Q);l(this,Y);p(this,Q,e),p(this,Y,Te(r))}get current(){return s(this,Y).call(this),s(this,Q).call(this)}}Q=new WeakMap,Y=new WeakMap;const Ot=/\(.+\)/,Vt=new Set(["all","print","screen","and","or","not","only"]);class qt extends Lt{constructor(e,r){let n=Ot.test(e)||e.split(/[\s,]+/).some(i=>Vt.has(i.trim()))?e:`(${e})`;const a=window.matchMedia(n);super(()=>a.matches,i=>$(a,"change",i))}}var O,Z,Ze;let Ft=(Ze=class{constructor(e={}){l(this,O);l(this,Z);const{window:r=st,document:n=r==null?void 0:r.document}=e;r!==void 0&&(p(this,O,n),p(this,Z,Te(a=>{const i=$(r,"focusin",a),o=$(r,"focusout",a);return()=>{i(),o()}})))}get current(){var e;return(e=s(this,Z))==null||e.call(this),s(this,O)?Rt(s(this,O)):null}},O=new WeakMap,Z=new WeakMap,Ze);new Ft;function $t(t,e){switch(t){case"post":kt(e);break;case"pre":S(e);break}}function it(t,e,r,n={}){const{lazy:a=!1}=n;let i=!a,o=Array.isArray(t)?[]:void 0;$t(e,()=>{const c=Array.isArray(t)?t.map(d=>d()):t();if(!i){i=!0,o=c;return}const u=St(()=>r(c,o));return o=c,u})}function Ve(t,e,r){it(t,"post",e,r)}function Dt(t,e,r){it(t,"pre",e,r)}Ve.pre=Dt;function Kt(t,e){switch(t){case"local":return e.localStorage;case"session":return e.sessionStorage}}var I,M,V,z,U,b,pe,_,de,fe;class at{constructor(e,r,n={}){l(this,_);l(this,I);l(this,M);l(this,V);l(this,z);l(this,U);l(this,b,ie(0));l(this,pe,e=>{e.key!==s(this,M)||e.newValue===null||(p(this,I,w(this,_,de).call(this,e.newValue)),T(s(this,b),h(s(this,b))+1))});const{storage:a="local",serializer:i={serialize:JSON.stringify,deserialize:JSON.parse},syncTabs:o=!0,window:c=st}=n;if(p(this,I,r),p(this,M,e),p(this,V,i),c===void 0)return;const u=Kt(a,c);p(this,z,u);const d=u.getItem(e);d!==null?p(this,I,w(this,_,de).call(this,d)):w(this,_,fe).call(this,r),o&&a==="local"&&p(this,U,Te(()=>$(c,"storage",s(this,pe))))}get current(){var a,i;(a=s(this,U))==null||a.call(this),h(s(this,b));const e=w(this,_,de).call(this,(i=s(this,z))==null?void 0:i.getItem(s(this,M)))??s(this,I),r=new WeakMap,n=o=>{if(o===null||(o==null?void 0:o.constructor.name)==="Date"||typeof o!="object")return o;let c=r.get(o);return c||(c=new Proxy(o,{get:(u,d)=>(h(s(this,b)),n(Reflect.get(u,d))),set:(u,d,f)=>(T(s(this,b),h(s(this,b))+1),Reflect.set(u,d,f),w(this,_,fe).call(this,e),!0)}),r.set(o,c)),c};return n(e)}set current(e){w(this,_,fe).call(this,e),T(s(this,b),h(s(this,b))+1)}}I=new WeakMap,M=new WeakMap,V=new WeakMap,z=new WeakMap,U=new WeakMap,b=new WeakMap,pe=new WeakMap,_=new WeakSet,de=function(e){try{return s(this,V).deserialize(e)}catch(r){console.error(`Error when parsing "${e}" from persisted store "${s(this,M)}"`,r);return}},fe=function(e){var r;try{e!=null&&((r=s(this,z))==null||r.setItem(s(this,M),s(this,V).serialize(e)))}catch(n){console.error(`Error when writing value from persisted store "${s(this,M)}" to ${s(this,z)}`,n)}};function Je(t){return t.filter(e=>e.length>0)}const ct={getItem:t=>null,setItem:(t,e)=>{}},ae=typeof document<"u";function Jt(t){return typeof t=="function"}function Ht(t){return t!==null&&typeof t=="object"}const H=Symbol("box"),qe=Symbol("is-writable");function Qt(t){return Ht(t)&&H in t}function Yt(t){return m.isBox(t)&&qe in t}function m(t){let e=ie(Me(t));return{[H]:!0,[qe]:!0,get current(){return h(e)},set current(r){T(e,r,!0)}}}function Zt(t,e){const r=xe(t);return e?{[H]:!0,[qe]:!0,get current(){return h(r)},set current(n){e(n)}}:{[H]:!0,get current(){return t()}}}function Ut(t){return m.isBox(t)?t:Jt(t)?m.with(t):m(t)}function Xt(t){return Object.entries(t).reduce((e,[r,n])=>m.isBox(n)?(m.isWritableBox(n)?Object.defineProperty(e,r,{get(){return n.current},set(a){n.current=a}}):Object.defineProperty(e,r,{get(){return n.current}}),e):Object.assign(e,{[r]:n}),{})}function Gt(t){return m.isWritableBox(t)?{[H]:!0,get current(){return t.current}}:t}m.from=Ut;m.with=Zt;m.flatten=Xt;m.readonly=Gt;m.isBox=Qt;m.isWritableBox=Yt;function er(t,e){const r=RegExp(t,"g");return n=>{if(typeof n!="string")throw new TypeError(`expected an argument of type string, but got ${typeof n}`);return n.match(r)?n.replace(r,e):n}}const tr=er(/[A-Z]/,t=>`-${t.toLowerCase()}`);function rr(t){if(!t||typeof t!="object"||Array.isArray(t))throw new TypeError(`expected an argument of type object, but got ${typeof t}`);return Object.keys(t).map(e=>`${tr(e)}: ${t[e]};`).join(`
`)}function nr(t={}){return rr(t).replace(`
`," ")}const or={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",transform:"translateX(-100%)"};nr(or);const sr=typeof window<"u"?window:void 0;function ir(t){let e=t.activeElement;for(;e!=null&&e.shadowRoot;){const r=e.shadowRoot.activeElement;if(r===e)break;e=r}return e}var q,X;class ar{constructor(e={}){l(this,q);l(this,X);const{window:r=sr,document:n=r==null?void 0:r.document}=e;r!==void 0&&(p(this,q,n),p(this,X,Te(a=>{const i=$(r,"focusin",a),o=$(r,"focusout",a);return()=>{i(),o()}})))}get current(){var e;return(e=s(this,X))==null||e.call(this),s(this,q)?ir(s(this,q)):null}}q=new WeakMap,X=new WeakMap;new ar;const C=m("mode-watcher-mode"),A=m("mode-watcher-theme"),cr=["dark","light","system"];function Ae(t){return typeof t!="string"?!1:cr.includes(t)}var G,we,ee,ve,B,te,Ie;class ur{constructor(){l(this,te);l(this,G,"system");l(this,we,ae?localStorage:ct);l(this,ee,s(this,we).getItem(C.current));l(this,ve,Ae(s(this,ee))?s(this,ee):s(this,G));l(this,B,ie(Me(w(this,te,Ie).call(this))));je(()=>Ve.pre(()=>C.current,(e,r)=>{const n=h(s(this,B)).current;T(s(this,B),w(this,te,Ie).call(this,n),!0),r&&localStorage.removeItem(r)}))}get current(){return h(s(this,B)).current}set current(e){h(s(this,B)).current=e}}G=new WeakMap,we=new WeakMap,ee=new WeakMap,ve=new WeakMap,B=new WeakMap,te=new WeakSet,Ie=function(e=s(this,ve)){return new at(C.current,e,{serializer:{serialize:r=>r,deserialize:r=>Ae(r)?r:s(this,G)}})};var be,re,ne,ye;class lr{constructor(){l(this,be);l(this,re,!0);l(this,ne,ie(Me(s(this,be))));l(this,ye,typeof window<"u"&&typeof window.matchMedia=="function"?new qt("prefers-color-scheme: light"):{current:!1});je(()=>{S(()=>{s(this,re)&&this.query()})}),this.query=this.query.bind(this),this.tracking=this.tracking.bind(this)}query(){ae&&T(s(this,ne),s(this,ye).current?"light":"dark",!0)}tracking(e){p(this,re,e)}get current(){return h(s(this,ne))}}be=new WeakMap,re=new WeakMap,ne=new WeakMap,ye=new WeakMap;const he=new ur,ze=new lr;var _e,F,ke,N,oe,Be;class dr{constructor(){l(this,oe);l(this,_e,ae?localStorage:ct);l(this,F,s(this,_e).getItem(A.current));l(this,ke,s(this,F)===null||s(this,F)===void 0?"":s(this,F));l(this,N,ie(Me(w(this,oe,Be).call(this))));je(()=>Ve.pre(()=>A.current,(e,r)=>{const n=h(s(this,N)).current;T(s(this,N),w(this,oe,Be).call(this,n),!0),r&&localStorage.removeItem(r)}))}get current(){return h(s(this,N)).current}set current(e){h(s(this,N)).current=e}}_e=new WeakMap,F=new WeakMap,ke=new WeakMap,N=new WeakMap,oe=new WeakSet,Be=function(e=s(this,ke)){return new at(A.current,e,{serializer:{serialize:r=>typeof r!="string"?"":r,deserialize:r=>r}})};const me=new dr;let He,Qe,Ye=!1,D=null;function fr(){return D||(D=document.createElement("style"),D.appendChild(document.createTextNode(`* {
		-webkit-transition: none !important;
		-moz-transition: none !important;
		-o-transition: none !important;
		-ms-transition: none !important;
		transition: none !important;
	}`)),D)}function ut(t){if(typeof document>"u")return;if(!Ye){Ye=!0,t();return}if(typeof window<"u"&&window.__vitest_worker__){t();return}clearTimeout(He),clearTimeout(Qe);const r=fr(),n=()=>document.head.appendChild(r),a=()=>{r.parentNode&&document.head.removeChild(r)};if(typeof window.requestAnimationFrame<"u"){n(),window.requestAnimationFrame(()=>{t(),window.requestAnimationFrame(a)});return}n(),He=window.setTimeout(()=>{t(),Qe=window.setTimeout(a,16)},16)}const x=m(void 0),ge=m(!0),Ne=m([]),We=m([]);function mr(){const t=xe(()=>{if(!ae)return;const e=he.current==="system"?ze.current:he.current,r=Je(Ne.current),n=Je(We.current);function a(){const i=document.documentElement,o=document.querySelector('meta[name="theme-color"]');e==="light"?(r.length&&i.classList.remove(...r),n.length&&i.classList.add(...n),i.style.colorScheme="light",o&&x.current&&o.setAttribute("content",x.current.light)):(n.length&&i.classList.remove(...n),r.length&&i.classList.add(...r),i.style.colorScheme="dark",o&&x.current&&o.setAttribute("content",x.current.dark))}return ge.current?ut(a):a(),e});return{get current(){return h(t)}}}function hr(){const t=xe(()=>{if(me.current,!ae)return;function e(){document.documentElement.setAttribute("data-theme",me.current)}return ge.current?ut(e):e(),me.current});return{get current(){return h(t)}}}const lt=mr(),gr=hr();function pr(){he.current=lt.current==="dark"?"light":"dark"}function wr(t){he.current=t}function vr(t){me.current=t}function br({defaultMode:t="system",themeColors:e,darkClassNames:r=["dark"],lightClassNames:n=[],defaultTheme:a="",modeStorageKey:i="mode-watcher-mode",themeStorageKey:o="mode-watcher-theme"}){const c=document.documentElement,u=localStorage.getItem(i)??t,d=localStorage.getItem(o)??a,f=u==="light"||u==="system"&&window.matchMedia("(prefers-color-scheme: light)").matches;if(f?(r.length&&c.classList.remove(...r.filter(Boolean)),n.length&&c.classList.add(...n.filter(Boolean))):(n.length&&c.classList.remove(...n.filter(Boolean)),r.length&&c.classList.add(...r.filter(Boolean))),c.style.colorScheme=f?"light":"dark",e){const g=document.querySelector('meta[name="theme-color"]');g&&g.setAttribute("content",u==="light"?e.light:e.dark)}d&&(c.setAttribute("data-theme",d),localStorage.setItem(o,d)),localStorage.setItem(i,u)}var yr=W('<meta name="theme-color"/>');function _r(t,e){j(e,!0);var r=Se(),n=P(r);{var a=i=>{var o=yr();se(()=>Le(o,"content",e.themeColors.dark)),y(i,o)};Oe(n,i=>{e.themeColors&&i(a)})}y(t,r),R()}var kr=W('<meta name="theme-color"/>'),Sr=W("<!> <!>",1);function Mr(t,e){j(e,!0);let r=v(e,"trueNonce",3,"");Ge(n=>{var a=Sr(),i=P(a);{var o=u=>{var d=kr();se(()=>Le(d,"content",e.themeColors.dark)),y(u,d)};Oe(i,u=>{e.themeColors&&u(o)})}var c=L(i,2);zt(c,()=>`<script${r()?` nonce=${r()}`:""}>(`+br.toString()+")("+JSON.stringify(e.initConfig)+");<\/script>"),y(n,a)}),R()}function xr(t,e){j(e,!0);let r=v(e,"track",3,!0),n=v(e,"defaultMode",3,"system"),a=v(e,"disableTransitions",3,!0),i=v(e,"darkClassNames",19,()=>["dark"]),o=v(e,"lightClassNames",19,()=>[]),c=v(e,"defaultTheme",3,""),u=v(e,"nonce",3,""),d=v(e,"themeStorageKey",3,"mode-watcher-theme"),f=v(e,"modeStorageKey",3,"mode-watcher-mode"),g=v(e,"disableHeadScriptInjection",3,!1);C.current=f(),A.current=d(),Ne.current=i(),We.current=o(),ge.current=a(),x.current=e.themeColors,S(()=>{ge.current=a()}),S(()=>{x.current=e.themeColors}),S(()=>{Ne.current=i()}),S(()=>{We.current=o()}),S(()=>{C.current=f()}),S(()=>{A.current=d()}),S(()=>{lt.current,C.current,A.current,gr.current}),Re(()=>{ze.tracking(r()),ze.query();const k=localStorage.getItem(C.current);wr(Ae(k)?k:n());const ht=localStorage.getItem(A.current);vr(ht||c())});const ce={defaultMode:n(),themeColors:e.themeColors,darkClassNames:i(),lightClassNames:o(),defaultTheme:c(),modeStorageKey:f(),themeStorageKey:d()},E=xe(()=>typeof window>"u"?u():"");var ue=Se(),dt=P(ue);{var ft=k=>{_r(k,{get themeColors(){return x.current}})},mt=k=>{Mr(k,{get trueNonce(){return h(E)},get initConfig(){return ce},get themeColors(){return x.current}})};Oe(dt,k=>{g()?k(ft):k(mt,!1)})}y(t,ue),R()}var Tr=W('<!> <!> <span class="sr-only">Toggle theme</span>',1),Pr=W('<nav><div class="container mx-auto px-4"><div class="flex h-16 items-center justify-between"><span></span> <!></div></div></nav>');function Er(t,e){j(e,!1);let r=Mt(!1);Re(()=>{T(r,/iPad|iPhone|iPod/.test(navigator.userAgent)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)}),tt();var n=Pr(),a=K(n),i=K(a),o=L(K(i),2);Tt(o,{get onclick(){return pr},variant:"outline",size:"icon",children:(c,u)=>{var d=Tr(),f=P(d);Wt(f,{class:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"});var g=L(f,2);jt(g,{class:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),Xe(2),y(c,d)},$$slots:{default:!0}}),J(i),J(a),J(n),se(()=>Pt(n,1,`bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 ${h(r)?"mt-[env(safe-area-inset-top)]":""}`)),y(t,n),R()}const Cr=()=>{const t=At;return{page:{subscribe:t.page.subscribe},navigating:{subscribe:t.navigating.subscribe},updated:t.updated}},Ar={subscribe(t){return Cr().page.subscribe(t)}};var Ir=W('<meta name="description" content="Visualize your life journey in weeks - gain perspective and make the most of your time"/> <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"/> <link rel="manifest"/> <meta name="theme-color" content="#ffffff"/> <meta name="mobile-web-app-capable" content="yes"/> <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/> <meta name="apple-mobile-web-app-title" content="Life Progress"/>  <meta name="format-detection" content="telephone=no"/>',1),zr=W('<!> <div class="min-h-screen bg-background"><!> <main class="container h-[calc(100vh-100px)] mx-auto"><!></main></div>',1);function Jr(t,e){j(e,!1);const[r,n]=Et(),a=()=>Ke(Ct,"$userDataStore",r),i=()=>Ke(Ar,"$page",r);Re(()=>{"serviceWorker"in navigator&&navigator.serviceWorker.register("/service-worker.js").then(E=>{console.log("ServiceWorker registration successful")}).catch(E=>{console.error("ServiceWorker registration failed:",E)}),(window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone||document.referrer.includes("android-app://"))&&a()&&i().url.pathname==="/"&&It("/stats")}),tt();var o=zr();Ge(ce=>{var E=Ir();xt.title="Your Life in Weeks";var ue=L(P(E),4);Xe(10),se(()=>Le(ue,"href","./manifest.json")),y(ce,E)});var c=P(o);xr(c,{});var u=L(c,2),d=K(u);Er(d,{});var f=L(d,2),g=K(f);Bt(g,e,"default",{}),J(f),J(u),y(t,o),R(),n()}export{Jr as component,Dr as universal};
